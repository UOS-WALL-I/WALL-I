<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/static/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="/css/cover.css" rel="stylesheet">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </head>
  <body class="d-flex h-100 text-center text-white bg-dark">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">

      <header th:replace="/fragments/homeHeader :: homeHeader"></header>

      <main class="px-3">
        <!--    강의 선택    -->
        <div th:if="${professor.getSubjectList() != null}">
          <select class="form-select" aria-label="Default select example">
            <option selected>과목을 선택하세요.</option>
            <option th:id="'subject'+" th:each="subject : ${professor.getSubjectList()}" th:value="${subject}" th:text="${subject}"></option>
          </select>
        </div>
        <input value="이동" type="button" onclick="dataSend()">
        <hr>

        <!--    강의 자료 나열    -->
        <table class="table table-dark table-striped">
          <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">과목명</th>
            <th scope="col">강의 자료 제목</th>
            <th scope="col">파일 링크</th>
          </tr>
          </thead>
          <tbody id="resultDiv">
          <tr th:if="${lectures} != null" th:each="lecture : ${lectures}">
            <th scope="row">1</th>
            <td th:text="${lecture.subject}">subject</td>
            <td th:text="${lecture.title}">title</td>
            <td th:text="${lecture.url}">title</td>
          </tr>
          </tbody>
        </table>
      </main>

      <footer class="mt-auto text-white-50">
        <p>Cover template for <a href="https://getbootstrap.com/" class="text-white">Bootstrap</a>, by <a href="https://twitter.com/mdo" class="text-white">@mdo</a>.</p>
      </footer>
    </div>
  </body>
<script type="text/javascript">
    function dataSend(n) {
        let subject = [[${subject}]];
        console.log(subject);
        let data = {subject : subject}

        $.ajax({
            url: "/professor",
            data: data,
            type: "POST",
            success: function (val) {
                console.log(val);
            }
        }).done(function (fragment) {
            $("#resultDiv").replaceWith(fragment);
        });
    }

</script>
</html>
